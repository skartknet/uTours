@using System.Text.Json
@using Umbraco.Cms.Web.Common.PublishedModels
@using Umbraco.Community.UTours.Client.ViewComponents

@model IEnumerable<TourViewModel>

@{
    var jso = new JsonSerializerOptions(JsonSerializerDefaults.Web);
}


<script>
    document.uTours = document.uTours || {};

    @foreach (var tour in Model)
    {
        var options = JsonSerializer.Serialize(tour, jso);
        <text>document.uTours[@tour.ID] = new tourguide.TourGuideClient(@Html.Raw(options));</text>
    }
</script>